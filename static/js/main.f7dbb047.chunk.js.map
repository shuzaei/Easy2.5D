{"version":3,"sources":["img/none.png","img/Shade.png","index.js","img/Z.png","img/T.png","img/J.png","img/I.png","img/O.png","img/S.png","img/L.png","img/Z2.png","img/T2.png","img/J2.png","img/I2.png","img/O2.png","img/S2.png","img/L2.png"],"names":["AddButton","props","Button","variant","color","onClick","className","Square","useEffect","images","forEach","elem","i","canvas","document","getElementById","name","ctx","getContext","width","r","height","img","Image","src","onload","YS","XS","drawImage","num","Math","floor","map","id","Canvas","j","imgs","this","sizeX","caption","sizeOfSquare","data","row","renderSquare","React","Component","TabBar","handleClickOfAddButton","Palette","useState","anchorEl","setAnchorEl","anchorEl2","setAnchorEl2","handleClose","handleClose2","aria-controls","aria-haspopup","event","currentTarget","colorSets","selectColorSetNumber","Menu","keepMounted","open","Boolean","onClose","colorSet","MenuItem","setPalette","body","selectColorNumber","alt","setColor","App","state","history","createCanvas","processed","createCanvas2","none","stepNumber","sizeY","side","shade","Shade","showInitMenu","tf_n","tf_x","tf_y","TextField","required","label","value","onChange","setState","target","X","isNaN","parseInt","Y","slice","current","concat","culcCanvas","length","rows","Array","y","fill","createCanvas3","dy","dx","x","res","k","ny","nx","Drawer","anchor","ShowInitMenu","handleClickOfCanvas","ReactDOM","render","querySelector"],"mappings":"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","file":"static/js/main.f7dbb047.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAJElEQVQ4T2NkoBJgpJI5DKMGEQ7J0TAaDSPCIUBYxWg6IhxGADXlABMacyzVAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAOElEQVQ4T2NkoBJgJNWcefPm/U9KSsLQN2oQIiRHw4hwqhpiYQRyLmFPIVRQJYvgspDkvDYCDQIAdI0wE1rCT34AAAAASUVORK5CYII=\"","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport \"./index.css\";\n\nimport none from \"./img/none.png\";\nimport Z from \"./img/Z.png\";\nimport T from \"./img/T.png\";\nimport J from \"./img/J.png\";\nimport I from \"./img/I.png\";\nimport O from \"./img/O.png\";\nimport S from \"./img/S.png\";\nimport L from \"./img/L.png\";\nimport Z2 from \"./img/Z2.png\";\nimport T2 from \"./img/T2.png\";\nimport J2 from \"./img/J2.png\";\nimport I2 from \"./img/I2.png\";\nimport O2 from \"./img/O2.png\";\nimport S2 from \"./img/S2.png\";\nimport L2 from \"./img/L2.png\";\nimport Shade from \"./img/Shade.png\";\n\nfunction AddButton(props) {\n  return (\n    <Button variant=\"contained\" color=\"primary\" onClick={props.onClick}>\n      <div className=\"boxContainer\">\n        <AddIcon></AddIcon>\n        新規作成\n      </div>\n    </Button>\n  );\n}\n\nfunction Square(props) {\n  useEffect(() => {\n    props.images.forEach((elem, i) => {\n      const canvas = document.getElementById(`${props.name}+${i}`);\n      const ctx = canvas.getContext(\"2d\");\n      canvas.width = props.r;\n      canvas.height = props.r;\n      let img = new Image();\n      img.src = elem.src;\n      img.onload = function () {\n        let YS = img.height / 3,\n          XS = img.width / 3;\n        ctx.drawImage(\n          img,\n          (elem.num % 3) * XS,\n          Math.floor(elem.num / 3) * YS,\n          XS,\n          YS,\n          0,\n          0,\n          props.r,\n          props.r\n        );\n      };\n    });\n  });\n\n  return (\n    <button className=\"square\" onClick={props.onClick}>\n      <div className=\"pixel\">\n        {props.images.map((img, i) => (\n          <canvas\n            key={i}\n            id={`${props.name}+${i}`}\n            className=\"img\"\n            width={props.r}\n            height={props.r}\n          ></canvas>\n        ))}\n      </div>\n    </button>\n  );\n}\n\nclass Canvas extends React.Component {\n  renderSquare(i, j, imgs) {\n    return (\n      <Square\n        key={i * this.props.sizeX + j}\n        name={i * this.props.sizeX + j}\n        images={imgs}\n        onClick={() => this.props.onClick(i, j)}\n        caption=\"\"\n        r={this.props.sizeOfSquare} // default\n      />\n    );\n  }\n  render() {\n    const canvas = (\n      <div>\n        {this.props.data.map((row, i) => (\n          <div key={i} className=\"canvas-row\">\n            {row.map((images, j) => this.renderSquare(i, j, images))}\n          </div>\n        ))}\n      </div>\n    );\n    return canvas;\n  }\n}\n\nclass TabBar extends React.Component {\n  render() {\n    return <AddButton onClick={this.props.handleClickOfAddButton}></AddButton>;\n  }\n}\n\nfunction Palette(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [anchorEl2, setAnchorEl2] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleClick2 = (event) => {\n    setAnchorEl2(event.currentTarget);\n  };\n\n  const handleClose2 = () => {\n    setAnchorEl2(null);\n  };\n\n  return (\n    <div>\n      <div>\n        <Button\n          aria-controls=\"palette-set\"\n          aria-haspopup=\"true\"\n          onClick={handleClick}\n        >\n          パレット: {props.colorSets[props.selectColorSetNumber].name}\n        </Button>\n        <Menu\n          id=\"palette-set\"\n          anchorEl={anchorEl}\n          keepMounted\n          open={Boolean(anchorEl)}\n          onClose={handleClose}\n        >\n          {props.colorSets.map((colorSet, i) => (\n            <MenuItem\n              key={i}\n              onClick={() => {\n                handleClose();\n                props.setPalette(i);\n              }}\n            >\n              {colorSet.name}\n            </MenuItem>\n          ))}\n        </Menu>\n      </div>\n      <div>\n        <Button\n          aria-controls=\"palette\"\n          aria-haspopup=\"true\"\n          onClick={handleClick2}\n        >\n          カラー:\n          {\n            <img\n              src={\n                props.colorSets[props.selectColorSetNumber].body[\n                  props.selectColorNumber\n                ]\n              }\n              alt=\"\"\n              width={props.r}\n              height={props.r}\n            ></img>\n          }\n        </Button>\n        <Menu\n          id=\"palette\"\n          anchorEl={anchorEl2}\n          keepMounted\n          open={Boolean(anchorEl2)}\n          onClose={handleClose2}\n        >\n          {props.colorSets[props.selectColorSetNumber].body.map((color, i) => (\n            <MenuItem\n              key={i}\n              onClick={() => {\n                handleClose2();\n                props.setColor(i);\n              }}\n            >\n              {<img src={color} alt=\"\" width={props.r} height={props.r}></img>}\n            </MenuItem>\n          ))}\n        </Menu>\n      </div>\n    </div>\n  );\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [\n        {\n          canvas: createCanvas(16, 16, 0),\n          processed: createCanvas2(16, 16, none, 4),\n        },\n      ],\n      stepNumber: 0,\n      sizeX: 16, // default\n      sizeY: 16, // default\n      colorSets: [\n        {\n          name: \"default\",\n          body: [none, Z, T, J, I, O, S, L],\n          side: [none, Z2, T2, J2, I2, O2, S2, L2],\n          shade: [none, Shade, Shade, Shade, Shade, Shade, Shade, Shade],\n        },\n      ],\n      selectColorSetNumber: 0,\n      selectColorNumber: 1,\n      sizeOfSquare: 36,\n      showInitMenu: false,\n      tf_n: \"\",\n      tf_x: \"\",\n      tf_y: \"\",\n    };\n  }\n  ShowInitMenu() {\n    return (\n      <div>\n        <TextField\n          required\n          id=\"fileName\"\n          label=\"ファイル名\"\n          value={this.state.tf_n}\n          onChange={(event, value) => {\n            this.setState({ tf_n: event.target.value });\n          }}\n        ></TextField>\n        <TextField\n          required\n          id=\"sizeX\"\n          label=\"サイズX\"\n          value={this.state.tf_x}\n          onChange={(event, value) => {\n            this.setState({ tf_x: event.target.value });\n          }}\n        ></TextField>\n        <TextField\n          required\n          id=\"sizeY\"\n          label=\"サイズY\"\n          value={this.state.tf_y}\n          onChange={(event, value) => {\n            this.setState({ tf_y: event.target.value });\n          }}\n        ></TextField>\n        <Button\n          onClick={() => {\n            let X = isNaN(parseInt(this.state.tf_x))\n                ? 16\n                : parseInt(this.state.tf_x),\n              Y = isNaN(parseInt(this.state.tf_y))\n                ? 16\n                : parseInt(this.state.tf_y);\n            this.setState({\n              showInitMenu: false,\n              sizeX: X,\n              sizeY: Y,\n            });\n            this.setState({\n              history: [\n                {\n                  canvas: createCanvas(Y, X, 0),\n                  processed: createCanvas2(Y, X, none, 4),\n                },\n              ],\n              stepNumber: 0,\n            });\n          }}\n        >\n          作成\n        </Button>\n      </div>\n    );\n  }\n  handleClickOfAddButton() {\n    this.setState({ showInitMenu: true });\n  }\n  handleClickOfCanvas(i, j) {\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[this.state.stepNumber].canvas;\n    current[i][j] = this.state.selectColorNumber;\n    this.setState({\n      history: history.concat([\n        { canvas: current, processed: this.culcCanvas(current) },\n      ]),\n      stepNumber: history.length,\n    });\n  }\n  setPalette(i) {\n    this.setState({ selectColorSetNumber: i });\n  }\n  setColor(i) {\n    this.setState({ selectColorNumber: i });\n  }\n  culcCanvas(canvas, r) {\n    const processed = createCanvas3(this.state.sizeY, this.state.sizeX);\n    let dy = [0, 1, 1, 1, 0, -1, -1, -1],\n      dx = [1, 1, 0, -1, -1, -1, 0, 1];\n    for (let y = 0; y < this.state.sizeY; y++) {\n      for (let x = 0; x < this.state.sizeX; x++) {\n        let res = [0, 0, 0, 0, 0, 0, 0, 0];\n        for (let k = 0; k < 8; k++) {\n          let ny = y + dy[k],\n            nx = x + dx[k];\n          if (\n            !(\n              0 <= ny &&\n              ny < this.state.sizeY &&\n              0 <= nx &&\n              nx < this.state.sizeX\n            )\n          )\n            continue;\n          if (canvas[ny][nx] !== 0) res[k] = 1;\n        }\n\n        if (canvas[y][x] !== 0) {\n          processed[y][x] = processed[y][x].concat([\n            {\n              src: this.state.colorSets[this.state.selectColorSetNumber].body[\n                canvas[y][x]\n              ],\n              num: 5,\n            },\n          ]);\n          continue;\n        }\n\n        if (res[4])\n          processed[y][x] = processed[y][x].concat([\n            {\n              src: this.state.colorSets[this.state.selectColorSetNumber].shade[\n                canvas[y + dy[4]][x + dx[4]]\n              ],\n              num: 2,\n            },\n          ]);\n        if (res[5])\n          processed[y][x] = processed[y][x].concat([\n            {\n              src: this.state.colorSets[this.state.selectColorSetNumber].shade[\n                canvas[y + dy[5]][x + dx[5]]\n              ],\n              num: 8,\n            },\n          ]);\n        if (res[6])\n          processed[y][x] = processed[y][x].concat([\n            {\n              src: this.state.colorSets[this.state.selectColorSetNumber].shade[\n                canvas[y + dy[6]][x + dx[6]]\n              ],\n              num: 6,\n            },\n          ]);\n\n        if (res[2])\n          processed[y][x] = processed[y][x].concat([\n            {\n              src: this.state.colorSets[this.state.selectColorSetNumber].side[\n                canvas[y + dy[2]][x + dx[2]]\n              ],\n              num: 1,\n            },\n          ]);\n      }\n    }\n\n    return processed;\n  }\n\n  render() {\n    const history = this.state.history.slice();\n    const current = history[this.state.stepNumber];\n    return (\n      <div>\n        <Drawer\n          anchor=\"top\"\n          open={this.state.showInitMenu}\n          onClose={() => {\n            this.setState({\n              showInitMenu: false,\n            });\n          }}\n        >\n          {this.ShowInitMenu()}\n        </Drawer>\n        <TabBar\n          handleClickOfAddButton={() => this.handleClickOfAddButton()}\n        ></TabBar>\n        <Palette\n          colorSets={this.state.colorSets}\n          selectColorSetNumber={this.state.selectColorSetNumber}\n          selectColorNumber={this.state.selectColorNumber}\n          setPalette={(i) => this.setPalette(i)}\n          setColor={(i) => this.setColor(i)}\n          r={this.props.sizeOfSquare}\n        ></Palette>\n        <div className=\"canvas\">\n          <Canvas\n            className=\"layer\"\n            data={current.processed}\n            onClick={(i, j) => this.handleClickOfCanvas(i, j)}\n            sizeX={this.state.sizeX}\n            sizeY={this.state.sizeY}\n            sizeOfSquare={this.state.sizeOfSquare}\n          ></Canvas>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.querySelector(\"#app\"));\n\nfunction createCanvas(Y, X, i) {\n  var rows = new Array(Y);\n  for (let y = 0; y < Y; y++) {\n    rows[y] = new Array(X).fill(i);\n  }\n  return rows;\n}\n\nfunction createCanvas2(Y, X, src, num) {\n  var rows = new Array(Y);\n  for (let y = 0; y < Y; y++) {\n    rows[y] = new Array(X).fill([{ src: src, num: num }]);\n  }\n  return rows;\n}\n\nfunction createCanvas3(Y, X) {\n  var rows = new Array(Y);\n  for (let y = 0; y < Y; y++) {\n    rows[y] = new Array(X).fill([]);\n  }\n  return rows;\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2N8KZf8n4EKgHHUIIKhOBpGBIOIYTSMRsOIcAgQVkG1dAQAUYcrdfJHN6MAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2Oco77hPwMVAOOoQQRDcTSMCAYRw2gYjYYR4RAgrIJq6QgA/FksF1bPUGcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2O0D9z6n4EKgHHUIIKhOBpGBIOIYTSMRsOIcAgQVkG1dAQAOGso2zThPGcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2NkXvnlPwMVAOOoQQRDcTSMCAYRw2gYjYYR4RAgrIJq6QgAeUkvQRoY1VsAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2P8/9r6PwMVAOOoQQRDcTSMCAYRw2gYjYYR4RAgrIJq6QgA3BU4m9Hwo00AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2P0WR/wn4EKgHHUIIKhOBpGBIOIYTSMRsOIcAgQVkG1dAQAZDgpR7uEHjkAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAKUlEQVQ4T2P8P4PhPwMVAOOoQQRDcTSMCAYRw2gYjYYR4RAgrIJq6QgA5nQun9Ecr8wAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoA9Jk/6TEn4jMYxICR+Q2tEwIhxio2FEOIwAnUwC9myh55EAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoF0ZJ/6TEn4jMYxICR+Q2tEwIhxio2FEOIwAsoIC/P5IvaAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoMq20/9JCb+RGEakhA9I7WgYEQ6x0TAiHEYAPt4C3Lc40/QAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRIP/D3/+TEn4jMYxICR+Q2tEwIhxio2FEOIwAIbwDG2Idr2cAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoP8fy/6TEn4jMYxICR+Q2tEwIhxio2FEOIwAcksDeFYIfPIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoMbjLf9JCb+RGEakhA9I7WgYEQ6x0TAiHEYARmMC3qWskPgAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAALElEQVQ4T2NkoBJgpJI5DCPRoP/bff+TEn4jMYxICR+Q2tEwIhxio2FEOIwADXQDFSnzuycAAAAASUVORK5CYII=\""],"sourceRoot":""}